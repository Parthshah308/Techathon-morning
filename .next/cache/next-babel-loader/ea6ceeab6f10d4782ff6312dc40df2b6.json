{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Documents\\\\vercel1\\\\vercel1\\\\components\\\\post\\\\comment-list\\\\comment-item\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport format from 'date-fns/format';\nimport { AuthContext } from '../../../../store/auth';\nimport { FetchContext } from '../../../../store/fetch';\nimport styles from './comment-item.module.css';\n\nconst CommentItem = ({\n  author,\n  created,\n  isOwner,\n  answerId,\n  questionId,\n  commentId,\n  setQuestion,\n  children\n}) => {\n  var _authState$userInfo;\n\n  const {\n    authState,\n    isAdmin\n  } = useContext(AuthContext);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your comment?');\n\n    if (res) {\n      const {\n        data\n      } = await authAxios.delete(answerId ? `/comment/${questionId}/${answerId}/${commentId}` : `/comment/${questionId}/${commentId}`);\n      setQuestion(data);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.commentContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, children, \" \\u2013\"), \" \\xA0\", __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: isOwner ? styles.owner : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, author)), \"\\xA0\", __jsx(\"p\", {\n    className: styles.dateText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, format(new Date(created), \"MMM dd'`'yy 'at' k':'mm\"), ' '), (((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.username) === author || isAdmin()) && __jsx(\"a\", {\n    className: styles.delete,\n    onClick: () => handleDeleteComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"delete\"));\n};\n\nexport default CommentItem;","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Documents/vercel1/vercel1/components/post/comment-list/comment-item/index.js"],"names":["React","useContext","Link","format","AuthContext","FetchContext","styles","CommentItem","author","created","isOwner","answerId","questionId","commentId","setQuestion","children","authState","isAdmin","authAxios","handleDeleteComment","res","window","confirm","data","delete","commentContainer","owner","undefined","dateText","Date","userInfo","username"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AACnBC,EAAAA,MADmB;AAEnBC,EAAAA,OAFmB;AAGnBC,EAAAA,OAHmB;AAInBC,EAAAA,QAJmB;AAKnBC,EAAAA,UALmB;AAMnBC,EAAAA,SANmB;AAOnBC,EAAAA,WAPmB;AAQnBC,EAAAA;AARmB,CAAD,KASd;AAAA;;AACJ,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAyBhB,UAAU,CAACG,WAAD,CAAzC;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAgBjB,UAAU,CAACI,YAAD,CAAhC;;AAEA,QAAMc,mBAAmB,GAAG,YAAY;AACtC,UAAMC,GAAG,GAAGC,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAZ;;AACA,QAAIF,GAAJ,EAAS;AACP,YAAM;AAAEG,QAAAA;AAAF,UAAW,MAAML,SAAS,CAACM,MAAV,CACrBb,QAAQ,GACH,YAAWC,UAAW,IAAGD,QAAS,IAAGE,SAAU,EAD5C,GAEH,YAAWD,UAAW,IAAGC,SAAU,EAHnB,CAAvB;AAMAC,MAAAA,WAAW,CAACS,IAAD,CAAX;AACD;AACF,GAXD;;AAaA,SACE;AAAK,IAAA,SAAS,EAAEjB,MAAM,CAACmB,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIV,QAAJ,YADF,WAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,eAAX;AAA2B,IAAA,EAAE,EAAG,UAASP,MAAO,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAEE,OAAO,GAAGJ,MAAM,CAACoB,KAAV,GAAkBC,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmDnB,MAAnD,CADF,CAFF,UAME;AAAG,IAAA,SAAS,EAAEF,MAAM,CAACsB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzB,MAAM,CAAC,IAAI0B,IAAJ,CAASpB,OAAT,CAAD,EAAoB,yBAApB,CADT,EACyD,GADzD,CANF,EASG,CAAC,wBAAAO,SAAS,CAACc,QAAV,4EAAoBC,QAApB,MAAiCvB,MAAjC,IAA2CS,OAAO,EAAnD,KACC;AAAG,IAAA,SAAS,EAAEX,MAAM,CAACkB,MAArB;AAA6B,IAAA,OAAO,EAAE,MAAML,mBAAmB,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,CADF;AAiBD,CA3CD;;AA6CA,eAAeZ,WAAf","sourcesContent":["import React, { useContext } from 'react'\nimport Link from 'next/link'\nimport format from 'date-fns/format'\n\nimport { AuthContext } from '../../../../store/auth'\nimport { FetchContext } from '../../../../store/fetch'\n\nimport styles from './comment-item.module.css'\n\nconst CommentItem = ({\n  author,\n  created,\n  isOwner,\n  answerId,\n  questionId,\n  commentId,\n  setQuestion,\n  children\n}) => {\n  const { authState, isAdmin } = useContext(AuthContext)\n  const { authAxios } = useContext(FetchContext)\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your comment?')\n    if (res) {\n      const { data } = await authAxios.delete(\n        answerId\n          ? `/comment/${questionId}/${answerId}/${commentId}`\n          : `/comment/${questionId}/${commentId}`\n      )\n\n      setQuestion(data)\n    }\n  }\n\n  return (\n    <div className={styles.commentContainer}>\n      <p>{children} â€“</p> &nbsp;\n      <Link href=\"/users/[user]\" as={`/users/${author}`}>\n        <a className={isOwner ? styles.owner : undefined}>{author}</a>\n      </Link>\n      &nbsp;\n      <p className={styles.dateText}>\n        {format(new Date(created), \"MMM dd'`'yy 'at' k':'mm\")}{' '}\n      </p>\n      {(authState.userInfo?.username === author || isAdmin()) && (\n        <a className={styles.delete} onClick={() => handleDeleteComment()}>\n          delete\n        </a>\n      )}\n    </div>\n  )\n}\n\nexport default CommentItem\n"]},"metadata":{},"sourceType":"module"}