{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Documents\\\\takecode_vercel-master\\\\takecode_vercel-master\\\\components\\\\post\\\\comment-list\\\\comment-item\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport format from 'date-fns/format';\nimport { AuthContext } from '../../../../store/auth';\nimport { FetchContext } from '../../../../store/fetch';\nimport styles from './comment-item.module.css';\n\nvar CommentItem = function CommentItem(_ref) {\n  _s();\n\n  var _authState$userInfo;\n\n  var author = _ref.author,\n      created = _ref.created,\n      isOwner = _ref.isOwner,\n      answerId = _ref.answerId,\n      questionId = _ref.questionId,\n      commentId = _ref.commentId,\n      setQuestion = _ref.setQuestion,\n      children = _ref.children;\n\n  var _useContext = useContext(AuthContext),\n      authState = _useContext.authState,\n      isAdmin = _useContext.isAdmin;\n\n  var _useContext2 = useContext(FetchContext),\n      authAxios = _useContext2.authAxios;\n\n  var handleDeleteComment = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, _yield$authAxios$dele, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              res = window.confirm('Are you sure delete your comment?');\n\n              if (!res) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 4;\n              return authAxios[\"delete\"](answerId ? \"/comment/\".concat(questionId, \"/\").concat(answerId, \"/\").concat(commentId) : \"/comment/\".concat(questionId, \"/\").concat(commentId));\n\n            case 4:\n              _yield$authAxios$dele = _context.sent;\n              data = _yield$authAxios$dele.data;\n              setQuestion(data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleDeleteComment() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: styles.commentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, children, \" \\u2013\"), \" \\xA0\", __jsx(Link, {\n    href: \"/users/[user]\",\n    as: \"/users/\".concat(author),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: isOwner ? styles.owner : undefined,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, author)), \"\\xA0\", __jsx(\"p\", {\n    className: styles.dateText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, format(new Date(created), \"MMM dd'`'yy 'at' k':'mm\"), ' '), (((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.username) === author || isAdmin()) && __jsx(\"a\", {\n    className: styles[\"delete\"],\n    onClick: function onClick() {\n      return handleDeleteComment();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"delete\"));\n};\n\n_s(CommentItem, \"jrqqwL1hEToJ7Jv5qOcJM2x8G8A=\");\n\n_c = CommentItem;\nexport default CommentItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentItem\");","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Documents/takecode_vercel-master/takecode_vercel-master/components/post/comment-list/comment-item/index.js"],"names":["React","useContext","Link","format","AuthContext","FetchContext","styles","CommentItem","author","created","isOwner","answerId","questionId","commentId","setQuestion","children","authState","isAdmin","authAxios","handleDeleteComment","res","window","confirm","data","commentContainer","owner","undefined","dateText","Date","userInfo","username"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OASd;AAAA;;AAAA;;AAAA,MARJC,MAQI,QARJA,MAQI;AAAA,MAPJC,OAOI,QAPJA,OAOI;AAAA,MANJC,OAMI,QANJA,OAMI;AAAA,MALJC,QAKI,QALJA,QAKI;AAAA,MAJJC,UAII,QAJJA,UAII;AAAA,MAHJC,SAGI,QAHJA,SAGI;AAAA,MAFJC,WAEI,QAFJA,WAEI;AAAA,MADJC,QACI,QADJA,QACI;;AAAA,oBAC2Bd,UAAU,CAACG,WAAD,CADrC;AAAA,MACIY,SADJ,eACIA,SADJ;AAAA,MACeC,OADf,eACeA,OADf;;AAAA,qBAEkBhB,UAAU,CAACI,YAAD,CAF5B;AAAA,MAEIa,SAFJ,gBAEIA,SAFJ;;AAIJ,MAAMC,mBAAmB;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACpBC,cAAAA,GADoB,GACdC,MAAM,CAACC,OAAP,CAAe,mCAAf,CADc;;AAAA,mBAEtBF,GAFsB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGDF,SAAS,UAAT,CACrBP,QAAQ,sBACQC,UADR,cACsBD,QADtB,cACkCE,SADlC,uBAEQD,UAFR,cAEsBC,SAFtB,CADa,CAHC;;AAAA;AAAA;AAGhBU,cAAAA,IAHgB,yBAGhBA,IAHgB;AASxBT,cAAAA,WAAW,CAACS,IAAD,CAAX;;AATwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAnBJ,mBAAmB;AAAA;AAAA;AAAA,KAAzB;;AAaA,SACE;AAAK,IAAA,SAAS,EAAEb,MAAM,CAACkB,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIT,QAAJ,YADF,WAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,eAAX;AAA2B,IAAA,EAAE,mBAAYP,MAAZ,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAEE,OAAO,GAAGJ,MAAM,CAACmB,KAAV,GAAkBC,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmDlB,MAAnD,CADF,CAFF,UAME;AAAG,IAAA,SAAS,EAAEF,MAAM,CAACqB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxB,MAAM,CAAC,IAAIyB,IAAJ,CAASnB,OAAT,CAAD,EAAoB,yBAApB,CADT,EACyD,GADzD,CANF,EASG,CAAC,wBAAAO,SAAS,CAACa,QAAV,4EAAoBC,QAApB,MAAiCtB,MAAjC,IAA2CS,OAAO,EAAnD,KACC;AAAG,IAAA,SAAS,EAAEX,MAAM,UAApB;AAA6B,IAAA,OAAO,EAAE;AAAA,aAAMa,mBAAmB,EAAzB;AAAA,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,CADF;AAiBD,CA3CD;;GAAMZ,W;;KAAAA,W;AA6CN,eAAeA,WAAf","sourcesContent":["import React, { useContext } from 'react'\nimport Link from 'next/link'\nimport format from 'date-fns/format'\n\nimport { AuthContext } from '../../../../store/auth'\nimport { FetchContext } from '../../../../store/fetch'\n\nimport styles from './comment-item.module.css'\n\nconst CommentItem = ({\n  author,\n  created,\n  isOwner,\n  answerId,\n  questionId,\n  commentId,\n  setQuestion,\n  children\n}) => {\n  const { authState, isAdmin } = useContext(AuthContext)\n  const { authAxios } = useContext(FetchContext)\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your comment?')\n    if (res) {\n      const { data } = await authAxios.delete(\n        answerId\n          ? `/comment/${questionId}/${answerId}/${commentId}`\n          : `/comment/${questionId}/${commentId}`\n      )\n\n      setQuestion(data)\n    }\n  }\n\n  return (\n    <div className={styles.commentContainer}>\n      <p>{children} â€“</p> &nbsp;\n      <Link href=\"/users/[user]\" as={`/users/${author}`}>\n        <a className={isOwner ? styles.owner : undefined}>{author}</a>\n      </Link>\n      &nbsp;\n      <p className={styles.dateText}>\n        {format(new Date(created), \"MMM dd'`'yy 'at' k':'mm\")}{' '}\n      </p>\n      {(authState.userInfo?.username === author || isAdmin()) && (\n        <a className={styles.delete} onClick={() => handleDeleteComment()}>\n          delete\n        </a>\n      )}\n    </div>\n  )\n}\n\nexport default CommentItem\n"]},"metadata":{},"sourceType":"module"}