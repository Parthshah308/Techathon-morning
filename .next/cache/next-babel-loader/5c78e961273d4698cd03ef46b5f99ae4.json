{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Documents\\\\vercel1\\\\vercel1\\\\components\\\\post\\\\post-summary\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict';\nimport { AuthContext } from '../../../store/auth';\nimport { FetchContext } from '../../../store/fetch';\nimport Tag from '../../tag';\nimport styles from './post-summary.module.css';\nimport Button from '../../button';\n\nconst PostSummary = ({\n  tags,\n  author,\n  created,\n  questionId,\n  answerId,\n  setQuestion,\n  children\n}) => {\n  var _authState$userInfo;\n\n  const {\n    authState,\n    isAdmin\n  } = useContext(AuthContext);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n  const router = useRouter();\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your post?');\n\n    if (res) {\n      const {\n        data\n      } = await authAxios.delete(answerId ? `/answer/${questionId}/${answerId}` : `/question/${questionId}`);\n\n      if (answerId) {\n        setQuestion(data);\n      } else {\n        router.push('/');\n      }\n    }\n  };\n\n  const handleApprove = async () => {\n    const res = window.confirm('Are you sure approve this question?');\n\n    if (res) {\n      const {\n        data\n      } = await authAxios.put(answerId ? `/answer/${questionId}/${answerId}` : `/question/approve/${questionId}`);\n\n      if (answerId) {\n        setQuestion(data);\n      } else {\n        router.push('/');\n      }\n    }\n  };\n\n  const handleReject = async () => {\n    const res = window.confirm('Are you sure reject this question?');\n\n    if (res) {\n      const {\n        data\n      } = await authAxios.put(answerId ? `/answer/${questionId}/${answerId}` : `/question/reject/${questionId}`);\n\n      if (answerId) {\n        setQuestion(data);\n      } else {\n        router.push('/');\n      }\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.postCell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, children), __jsx(\"div\", {\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.tagContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, tags === null || tags === void 0 ? void 0 : tags.map(tag => __jsx(Tag, {\n    key: tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, tag))), __jsx(\"div\", {\n    className: styles.userDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: `https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`,\n    alt: author.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    className: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, tags ? 'asked' : 'answered', ' ', formatDistanceToNowStrict(new Date(created), {\n    addSuffix: true\n  })), __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, author.username))))), (((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.id) === author.id || isAdmin()) && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.delete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    clButtonssName: styles.delete,\n    onClick: () => handleDeleteComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"delete\")), __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    className: styles.delete,\n    onClick: () => handleApprove(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"Approve\")))));\n};\n\nexport default PostSummary;","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Documents/vercel1/vercel1/components/post/post-summary/index.js"],"names":["React","useContext","useRouter","Link","formatDistanceToNowStrict","AuthContext","FetchContext","Tag","styles","Button","PostSummary","tags","author","created","questionId","answerId","setQuestion","children","authState","isAdmin","authAxios","router","handleDeleteComment","res","window","confirm","data","delete","push","handleApprove","put","handleReject","postCell","text","footer","row","tagContainer","map","tag","userDetails","username","id","info","Date","addSuffix","userInfo"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict'\n\nimport { AuthContext } from '../../../store/auth'\nimport { FetchContext } from '../../../store/fetch'\n\nimport Tag from '../../tag'\n\nimport styles from './post-summary.module.css'\nimport Button from '../../button'\n\nconst PostSummary = ({\n  tags,\n  author,\n  created,\n  questionId,\n  answerId,\n  setQuestion,\n  children\n}) => {\n  const { authState, isAdmin } = useContext(AuthContext)\n  const { authAxios } = useContext(FetchContext)\n  const router = useRouter()\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your post?')\n    if (res) {\n      const { data } = await authAxios.delete(\n        answerId\n          ? `/answer/${questionId}/${answerId}`\n          : `/question/${questionId}`\n      )\n\n      if (answerId) {\n        setQuestion(data)\n      } else {\n        router.push('/')\n      }\n    }\n  }\n  const handleApprove = async () => {\n    const res = window.confirm('Are you sure approve this question?')\n    if (res) {\n      const { data } = await authAxios.put(\n        answerId\n          ? `/answer/${questionId}/${answerId}`\n          : `/question/approve/${questionId}`\n      )\n\n      if (answerId) {\n        setQuestion(data)\n      } else {\n        router.push('/')\n      }\n    }\n  }\n  const handleReject = async () => {\n    const res = window.confirm('Are you sure reject this question?')\n    if (res) {\n      const { data } = await authAxios.put(\n        answerId\n          ? `/answer/${questionId}/${answerId}`\n          : `/question/reject/${questionId}`\n      )\n\n      if (answerId) {\n        setQuestion(data)\n      } else {\n        router.push('/')\n      }\n    }\n  }\n\n  return (\n    <div className={styles.postCell}>\n      <div className={styles.text}>{children}</div>\n      <div className={styles.footer}>\n        <div className={styles.row}>\n          <div className={styles.tagContainer}>\n            {tags?.map((tag) => (\n              <Tag key={tag}>{tag}</Tag>\n            ))}\n          </div>\n          <div className={styles.userDetails}>\n            <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\n              <a>\n                <img\n                  src={`https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`}\n                  alt={author.username}\n                />\n              </a>\n            </Link>\n            <div className={styles.info}>\n              <span>\n                {tags ? 'asked' : 'answered'}{' '}\n                {formatDistanceToNowStrict(new Date(created), {\n                  addSuffix: true\n                })}\n              </span>\n              <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\n                <a>{author.username}</a>\n              </Link>\n            </div>\n          </div>\n        </div>\n        {(authState.userInfo?.id === author.id || isAdmin()) && (<>\n          <div className={styles.delete}>\n            <Button clButtonssName={styles.delete} onClick={() => handleDeleteComment()}>\n              delete\n            </Button>\n          </div>\n          <div className={styles.row}>\n          <Button className={styles.delete} onClick={() => handleApprove()}>\n            Approve\n          </Button>\n        </div>\n        </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default PostSummary\n"]},"metadata":{},"sourceType":"module"}