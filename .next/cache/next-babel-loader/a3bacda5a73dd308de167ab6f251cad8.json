{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Documents\\\\vercel1\\\\vercel1\\\\components\\\\post\\\\post-vote\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { AuthContext } from '../../../store/auth';\nimport { FetchContext } from '../../../store/fetch';\nimport ModalContext from '../../../store/modal';\nimport Button from '../../button';\nimport { ArrowUp, ArrowDown } from '../../icons';\nimport styles from './post-vote.module.css';\n\nconst PostVote = ({\n  score,\n  votes,\n  questionId,\n  answerId,\n  setQuestion\n}) => {\n  const {\n    authState,\n    isAuthenticated\n  } = useContext(AuthContext);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n  const {\n    handleComponentVisible\n  } = useContext(ModalContext);\n\n  const isUpVoted = () => {\n    var _votes$find;\n\n    return ((_votes$find = votes.find(v => {\n      var _authState$userInfo;\n\n      return v.user === ((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.id);\n    })) === null || _votes$find === void 0 ? void 0 : _votes$find.vote) === 1;\n  };\n\n  const isDownVoted = () => {\n    var _votes$find2;\n\n    return ((_votes$find2 = votes.find(v => {\n      var _authState$userInfo2;\n\n      return v.user === ((_authState$userInfo2 = authState.userInfo) === null || _authState$userInfo2 === void 0 ? void 0 : _authState$userInfo2.id);\n    })) === null || _votes$find2 === void 0 ? void 0 : _votes$find2.vote) === -1;\n  };\n\n  const upVote = async () => {\n    const {\n      data\n    } = await authAxios.get(`/votes/upvote/${questionId}/${answerId ? answerId : ''}`);\n    setQuestion(data);\n  };\n\n  const downVote = async () => {\n    const {\n      data\n    } = await authAxios.get(`/votes/downvote/${questionId}/${answerId ? answerId : ''}`);\n    setQuestion(data);\n  };\n\n  const unVote = async () => {\n    const {\n      data\n    } = await authAxios.get(`/votes/unvote/${questionId}/${answerId ? answerId : ''}`);\n    setQuestion(data);\n  };\n\n  return __jsx(\"div\", {\n    className: styles.voteCell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.score,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, score), __jsx(Button, {\n    className: styles.voteButton,\n    onClick: () => isAuthenticated() ? isDownVoted() ? unVote() : downVote() : handleComponentVisible(true, 'signup'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(ArrowDown, {\n    className: isDownVoted() ? styles.voted : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default PostVote;","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Documents/vercel1/vercel1/components/post/post-vote/index.js"],"names":["React","useContext","AuthContext","FetchContext","ModalContext","Button","ArrowUp","ArrowDown","styles","PostVote","score","votes","questionId","answerId","setQuestion","authState","isAuthenticated","authAxios","handleComponentVisible","isUpVoted","find","v","user","userInfo","id","vote","isDownVoted","upVote","data","get","downVote","unVote","voteCell","voteButton","voted"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\n\nimport { AuthContext } from '../../../store/auth'\nimport { FetchContext } from '../../../store/fetch'\nimport ModalContext from '../../../store/modal'\n\nimport Button from '../../button'\nimport { ArrowUp, ArrowDown } from '../../icons'\n\nimport styles from './post-vote.module.css'\n\nconst PostVote = ({ score, votes, questionId, answerId, setQuestion }) => {\n  const { authState, isAuthenticated } = useContext(AuthContext)\n  const { authAxios } = useContext(FetchContext)\n  const { handleComponentVisible } = useContext(ModalContext)\n\n  const isUpVoted = () => {\n    return votes.find((v) => v.user === authState.userInfo?.id)?.vote === 1\n  }\n\n  const isDownVoted = () => {\n    return votes.find((v) => v.user === authState.userInfo?.id)?.vote === -1\n  }\n\n  const upVote = async () => {\n    const { data } = await authAxios.get(\n      `/votes/upvote/${questionId}/${answerId ? answerId : ''}`\n    )\n    setQuestion(data)\n  }\n\n  const downVote = async () => {\n    const { data } = await authAxios.get(\n      `/votes/downvote/${questionId}/${answerId ? answerId : ''}`\n    )\n    setQuestion(data)\n  }\n\n  const unVote = async () => {\n    const { data } = await authAxios.get(\n      `/votes/unvote/${questionId}/${answerId ? answerId : ''}`\n    )\n    setQuestion(data)\n  }\n\n  return (\n    <div className={styles.voteCell}>\n      \n      <div className={styles.score}>{score}</div>\n      <Button\n        className={styles.voteButton}\n        onClick={() =>\n          isAuthenticated()\n            ? isDownVoted()\n              ? unVote()\n              : downVote()\n            : handleComponentVisible(true, 'signup')\n        }\n      >\n        <ArrowDown className={isDownVoted() ? styles.voted : ''} />\n      </Button>\n    </div>\n  )\n}\n\nexport default PostVote\n"]},"metadata":{},"sourceType":"module"}